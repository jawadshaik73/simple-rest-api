(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{3219:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(4297);let r=(0,a.Z)("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]])},2701:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(4297);let r=(0,a.Z)("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]])},6953:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(4297);let r=(0,a.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},1962:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(4297);let r=(0,a.Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},7627:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return t(8847)}])},7435:function(e,s,t){"use strict";var a=t(5893);t(7294);var r=t(1664),n=t.n(r),l=t(1144),i=t(1862),o=t(4933),d=t(9483),c=t(8051),x=t(3495);s.Z=e=>{let{children:s}=e,{user:t,logout:r}=(0,l.a)();return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50 text-slate-900",children:[(0,a.jsx)("nav",{className:"glass sticky top-0 z-50 border-b border-slate-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16 items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"premium-gradient p-2 rounded-lg text-white",children:(0,a.jsx)(i.Z,{size:24})}),(0,a.jsxs)(n(),{href:"/",className:"text-xl font-bold tracking-tight text-slate-800 hidden sm:block",children:["Task",(0,a.jsx)("span",{className:"text-indigo-600",children:"Master"})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-2 px-3 py-1 bg-slate-100 rounded-full text-sm font-medium border border-slate-200",children:[(0,a.jsx)(o.Z,{size:14,className:"text-indigo-600"}),(0,a.jsx)("span",{className:"text-slate-600",children:t.email}),"admin"===t.role&&(0,a.jsx)("span",{className:"bg-amber-100 text-amber-800 px-2 py-0.5 rounded text-[10px] uppercase font-bold border border-amber-200",children:"Admin"})]}),(0,a.jsxs)(n(),{href:"/dashboard",className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors",children:[(0,a.jsx)(d.Z,{size:18}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Dashboard"})]}),(0,a.jsxs)("button",{onClick:r,className:"flex items-center space-x-1 px-4 py-2 rounded-xl text-sm font-semibold text-white premium-gradient premium-shadow hover:opacity-90 transition-all active:scale-95",children:[(0,a.jsx)(c.Z,{size:16}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{href:"/login",className:"text-sm font-semibold text-slate-600 hover:text-indigo-600 px-4 py-2 transition-colors",children:"Log in"}),(0,a.jsx)(n(),{href:"/register",className:"flex items-center space-x-1 px-5 py-2.5 rounded-xl text-sm font-bold text-white premium-gradient premium-shadow hover:opacity-90 transition-all active:scale-95",children:(0,a.jsx)("span",{children:"Get Started"})})]})})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,a.jsx)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s})}),(0,a.jsxs)("footer",{className:"mt-auto py-8 text-center text-slate-400 text-sm border-t border-slate-100",children:["\xa9 ",new Date().getFullYear()," TaskMaster Pro. Built for Performance."]})]})}},8847:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ForgotPassword}});var a=t(5893),r=t(7294),n=t(7536),l=t(7435),i=t(1664),o=t.n(i),d=t(3495),c=t(3219),x=t(6953),m=t(1962),u=t(3217),p=t(2701),h=t(6501),b=t(1163),f=t(7066);function ForgotPassword(){let[e,s]=(0,r.useState)("email"),[t,i]=(0,r.useState)("+91"),[j,g]=(0,r.useState)(!1),{register:v,handleSubmit:y,formState:{errors:N},reset:w}=(0,n.cI)(),k=(0,b.useRouter)(),onSubmit=async s=>{g(!0);try{let a={method:e,contact:"email"===e?s.email:"".concat(t).concat(s.phone)};await f.Z.post("".concat("http://localhost:5000/api/v1","/auth/forgot-password"),a),h.ZP.success("email"===e?"Reset link sent to your email!":"OTP sent to your phone!"),setTimeout(()=>{k.push("/reset-password")},1500)}catch(e){var a,r,n,l;console.error("Full error:",e),console.error("Error response:",e.response),console.error("Error status:",null===(a=e.response)||void 0===a?void 0:a.status),console.error("Error data:",null===(r=e.response)||void 0===r?void 0:r.data),h.ZP.error((null===(l=e.response)||void 0===l?void 0:null===(n=l.data)||void 0===n?void 0:n.message)||"Failed to send reset request")}finally{g(!1)}};return(0,a.jsx)(l.Z,{children:(0,a.jsx)("div",{className:"max-w-md mx-auto pt-10",children:(0,a.jsxs)(d.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white p-8 sm:p-10 rounded-[2.5rem] shadow-2xl shadow-slate-200 border border-slate-100",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)(o(),{href:"/login",className:"inline-flex items-center text-sm font-bold text-slate-400 hover:text-slate-600 transition-colors mb-6",children:[(0,a.jsx)(c.Z,{size:16,className:"mr-1"}),"Back to Login"]}),(0,a.jsx)("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Reset Password"}),(0,a.jsx)("p",{className:"text-slate-400 mt-2 font-medium",children:"Choose a method to reset your password"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{s("email"),w()},className:"p-4 rounded-2xl border-2 flex flex-col items-center justify-center transition-all ".concat("email"===e?"border-indigo-500 bg-indigo-50 text-indigo-600":"border-slate-100 text-slate-400 hover:border-slate-200"),children:[(0,a.jsx)(x.Z,{size:24,className:"mb-2"}),(0,a.jsx)("span",{className:"font-bold text-sm",children:"Email"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{s("sms"),w()},className:"p-4 rounded-2xl border-2 flex flex-col items-center justify-center transition-all ".concat("sms"===e?"border-indigo-500 bg-indigo-50 text-indigo-600":"border-slate-100 text-slate-400 hover:border-slate-200"),children:[(0,a.jsx)(m.Z,{size:24,className:"mb-2"}),(0,a.jsx)("span",{className:"font-bold text-sm",children:"SMS"})]})]}),(0,a.jsxs)("form",{onSubmit:y(onSubmit),className:"space-y-6",children:["email"===e?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-bold text-slate-600 ml-1",children:"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400",children:(0,a.jsx)(x.Z,{size:20})}),(0,a.jsx)("input",{type:"email",...v("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),placeholder:"name@example.com",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 rounded-2xl outline-none transition-all ".concat(N.email?"border-rose-100 focus:border-rose-500":"border-transparent focus:border-indigo-500")})]}),N.email&&(0,a.jsx)("p",{className:"text-rose-500 text-xs font-bold mt-1 ml-1",children:N.email.message})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-bold text-slate-600 ml-1",children:"Phone Number"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("select",{className:"px-3 py-4 bg-slate-50 border-2 border-transparent rounded-2xl outline-none focus:border-indigo-500 transition-all font-bold text-slate-600 appearance-none text-center min-w-[80px]",value:t,onChange:e=>i(e.target.value),children:[(0,a.jsx)("option",{value:"+91",children:"\uD83C\uDDEE\uD83C\uDDF3 +91"}),(0,a.jsx)("option",{value:"+1",children:"\uD83C\uDDFA\uD83C\uDDF8 +1"}),(0,a.jsx)("option",{value:"+44",children:"\uD83C\uDDEC\uD83C\uDDE7 +44"}),(0,a.jsx)("option",{value:"+971",children:"\uD83C\uDDE6\uD83C\uDDEA +971"})]}),(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400",children:(0,a.jsx)(m.Z,{size:20})}),(0,a.jsx)("input",{type:"tel",...v("phone",{required:"Phone number is required"}),placeholder:"9876543210",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 rounded-2xl outline-none transition-all ".concat(N.phone?"border-rose-100 focus:border-rose-500":"border-transparent focus:border-indigo-500")})]})]}),N.phone&&(0,a.jsx)("p",{className:"text-rose-500 text-xs font-bold mt-1 ml-1",children:N.phone.message})]}),(0,a.jsx)("button",{type:"submit",disabled:j,className:"w-full h-14 flex items-center justify-center space-x-2 rounded-2xl text-white font-bold premium-gradient premium-shadow hover:opacity-90 disabled:opacity-50 transition-all active:scale-95 mt-8",children:j?(0,a.jsx)(u.Z,{className:"animate-spin",size:20}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Send Reset Link"}),(0,a.jsx)(p.Z,{size:20})]})})]})]})})})}}},function(e){e.O(0,[182,992,774,888,179],function(){return e(e.s=7627)}),_N_E=e.O()}]);