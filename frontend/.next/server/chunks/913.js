exports.id=913,exports.ids=[913],exports.modules={3035:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{H:()=>AuthProvider,a:()=>useAuth});var s=a(997),o=a(6689),i=a(1163),n=a(252),l=a(6201),c=e([n,l]);[n,l]=c.then?(await c)():c;let u=(0,o.createContext)(void 0),AuthProvider=({children:e})=>{let[t,a]=(0,o.useState)(null),[r,c]=(0,o.useState)(null),[d,h]=(0,o.useState)(!0),p=(0,i.useRouter)();(0,o.useEffect)(()=>{let e=localStorage.getItem("token");e?(c(e),fetchUser(e)):h(!1)},[]);let fetchUser=async e=>{try{let t=await (0,n.Ai)(e);a(t)}catch(e){console.error("Failed to fetch user",e),localStorage.removeItem("token"),c(null),a(null)}finally{h(!1)}},login=async(e,t)=>{try{let r=await (0,n.x4)(e,t);localStorage.setItem("token",r.token),c(r.token),a(r.user),l.default.success("Welcome back!"),p.push("/dashboard")}catch(t){let e=t.response?.data?.message||"Login failed";throw l.default.error(e),t}},register=async(e,t,r="user",s)=>{try{let o=await (0,n.z2)(e,t,r,s);localStorage.setItem("token",o.token),c(o.token),a(o.user),l.default.success("Welcome aboard!"),p.push("/dashboard")}catch(t){let e=t.response?.data?.message||"Registration failed";throw l.default.error(e),t}};return s.jsx(u.Provider,{value:{user:t,token:r,login,register,logout:()=>{localStorage.removeItem("token"),c(null),a(null),l.default.success("Logged out successfully"),p.push("/")},loading:d},children:e})},useAuth=()=>{let e=(0,o.useContext)(u);if(!e)throw Error("useAuth must be used within AuthProvider");return e};r()}catch(e){r(e)}})},252:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Ai:()=>getProfile,Ak:()=>getTasks,Y9:()=>getAdminStats,_5:()=>deleteTask,vr:()=>createTask,x4:()=>login,xJ:()=>updateTask,z2:()=>register});var s=a(9648),o=e([s]);s=(o.then?(await o)():o)[0];let i=s.default.create({baseURL:"http://localhost:5000/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>e,e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let register=async(e,t,a,r)=>{let s=await i.post("/auth/register",{email:e,password:t,role:a,phoneNumber:r});return s.data.data},login=async(e,t)=>{let a=await i.post("/auth/login",{email:e,password:t});return a.data.data},getProfile=async e=>{let t=await i.get("/auth/profile",{headers:{Authorization:`Bearer ${e}`}});return t.data.data},getTasks=async e=>{let t=await i.get("/tasks",{headers:{Authorization:`Bearer ${e}`}});return t.data.data},createTask=async(e,t)=>{let a=await i.post("/tasks",t,{headers:{Authorization:`Bearer ${e}`}});return a.data.data},updateTask=async(e,t,a)=>{let r=await i.put(`/tasks/${t}`,a,{headers:{Authorization:`Bearer ${e}`}});return r.data.data},deleteTask=async(e,t)=>{await i.delete(`/tasks/${t}`,{headers:{Authorization:`Bearer ${e}`}})},getAdminStats=async e=>{let t=await i.get("/admin/stats",{headers:{Authorization:`Bearer ${e}`}});return t.data.data};r()}catch(e){r(e)}})},5913:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>App});var s=a(997),o=a(5644),i=a.n(o);a(6764);var n=a(968),l=a.n(n),c=a(3035),u=a(6201),d=e([c,u]);function App({Component:e,pageProps:t}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{children:[s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),s.jsx("meta",{name:"theme-color",content:"#6366f1"}),s.jsx("title",{children:"TaskMaster Pro"})]}),s.jsx("div",{className:i().className,children:(0,s.jsxs)(c.H,{children:[s.jsx(e,{...t}),s.jsx(u.Toaster,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"#1e293b",color:"#f8fafc",borderRadius:"16px",padding:"14px 20px",fontSize:"14px",fontWeight:"600",boxShadow:"0 20px 40px -15px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.05)"},success:{iconTheme:{primary:"#22c55e",secondary:"#f8fafc"}},error:{iconTheme:{primary:"#ef4444",secondary:"#f8fafc"}}}})]})})]})}[c,u]=d.then?(await d)():d,r()}catch(e){r(e)}})},6764:()=>{}};